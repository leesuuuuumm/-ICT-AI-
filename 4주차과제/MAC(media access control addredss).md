# MAC(media access control address) 주소에 대해 간략히 알아보기

## 1. MAC주소란 무엇이고, 어떻게 구성되는 것인가?
MAC 주소는 컴퓨터의 네트워크 인터페이스에 할당된 고유 식별자이다. </br>

네트워크에서 장치를 식별하고, 장치 간 통신을 가능하게 해주는데 통신할 때 MAC 주소로 장치를 식별해야하기 때문에 `MAC 주소값이 고유해야한다.` </br>

MAC 주소는 하드웨어인 네트워크 장치가 생산될 때부터 정해져 Physical Address라고도 부른다. </br>
`= (MAC 주소는 변경할 수 없도록 하드웨어(NIC)에 고정돼서 출하되기 때문에 네트워크 장비 제조업체에서 출하할 때마다 MAC 주소를 할당하게 된다.` </br>


그런데 매번 이 주소가 할당 되었던건지 아닌지 확인할 수는 없기 때문에 한 제조업체에서 하나 이상의 주소 풀(주소 그룹)을 주고 이 풀안에서 자체적으로 MAC 주소를 할당한다.
이렇게 네트워크 장비 제조업체에서 주소 풀을 할당하는 것을 `제조사 코드` 라 부르며 이 주소를 관리하는 기관이 국제기구 `IEEE` 이다. </br>

### 네트워크에 접속하는 모든 장비는 MAC 주소라는 물리적인 주소가 있어야하며 이 주소를 통해 통신이 가능하다 

</br>

MAC주소는  `물리적 주소`, `BIA`, `하드웨어주소`, `이더넷주소` 와 같은 별칭들이 존재한다.


</br>

### MAC 주소 구성 
![image](https://github.com/leesuuuuumm/Seoul-ICT-AI-Web-Dev-Camp/assets/58407737/1d95ed66-448b-4e69-9229-0d525e00b09e) </br>

MAC 주소는 12자리로 표현 되는데, 12자리에는 16진수가 들어가며, 총 48비트(bit)로 구성되어있다.

앞의 24 비트는 `제조사 코드`, 뒤 24비트는 `자체적으로 할당하는 값` 

```
0 0 0 0 0 0 0 0 0 0 0 0
| — — — — -| — — — — -|
    OUI        UAA
  제조사 코드   제조사에서
             할당하는 값

```
앞의 6자리(24비트)가 제조사 코드로 `OUI(Organizational Unique Identifier)` 이라 한다.
뒤의 6자리(24비트)는 제조사에서 자체적으로 할당해주는 값으로 `UAA(Universally Administered Address)` 라 한다. (또는 호스트 식별자라 한다.)


앞서 `MAC 주소값은 고유해야한다` 라고 개념적으로 설명 했지만, `중복 될 수도 있다`  (자체적으로 할당 해주기 때문에) </br> 

하지만, MAC 주소는 같은 네트워크에서만 겹치지 않으면 동작하는데 문제가 없기 때문에 사용해도 무방하다. </br>


</br>
</br>
</br>

## 2. MAC주소는 어떻게 사용되고 왜 사용되어야 하는지 알아보기
예시로 우리가 미국에서 살고 있는 엘리스의 컴퓨터와 통신 하고 싶다고 하면, 엘리스가 알려준 IP 주소가 상우의 컴퓨터라는 사실을 보증할 수가 없다. </br>

IP 특징인 유동성으로 인해 IP 자체가 변동될 수 있기 때문이다. 그래서 결국 절대 변하지 않은 하드웨어의 고유 주소번호가 필요한데, 그것이 바로 'MAC' 주소이다. </br>

그래서 엘리스 컴퓨터가 X한테 데이터를 전송할 때 전송하는 데이터의 목적지는 IP 주소 뿐만 아니라 MAC 주소가 지정되어야 전송할 수 있다. </br>

컴퓨터는 자신의 IP와 MAC 주소는 알아도 내가 통신하고자 하는 상대방의 MAC 주소는 모른다. 그럼에도 어떻게 통신은 잘 이루어지는 걸까?  </br>

보통 우리가 메일을 보내면 sum@naver.com 과 같이 도메인 주소를 입력하는데, 이 도메인 주소는 전송 될 때 IP로 DNS를 통해 변경되며 네트워크 단에서 이 IP주소로 MAC 주소를 알아오는 `ARP 프로토콜`을 사용한다.
이렇게 하면 송수신에 필요한 IP와 MAC 주소를 모두 얻을 수 있게 된다.

 </br>

MAC주소는 하드웨어 식별번호로 사람으로 치면 주민등록번호 느낌이다. </br>
또한, 컴퓨터에만 있는 것이 아니라 라우터 스위치 등 통신 장비 모두에게 붙어 있다. </br>


### MAC 주소를 활용한 데이터 전송 과정

컴퓨터 1에서 컴퓨터 4로 데이터를 전송한다고 하면 데이터 링크 계층에서 출발지 MAC주소와 목적지 MAC주소를 입력하여 이더넷 헤더를 만든 후, 트레일러와 이더넷 헤더가 추가된 프레임을 만든다.(캡슐화) </br>

물리 계층에서는 프레임의 비트열을 전기 신호로 변환하여 네트워크를 통해 전송한다.  </br>

허브는 1번포트로 수신하고 나머지 모든 포트로 전송하지만 목적지의 MAC 주소와 다른 컴퓨터에서는 데이터를 폐기한다.  </br>

이때, 여러 컴퓨터가 같은 컴퓨터에 데이터를 전송하게 된다면 CSMA/CD 방식을 사용하여 충돌을 방지시킨다.  </br>

수신 컴퓨터에서는 역캡슐화를 거쳐서 데이터를 수집하게 된다.  </br>



</br>
</br>
</br>

## 3.IP와 MAC주소의 차이는 무엇이고 서로 어떻게 같이 사용하는지 알아보기

| IP 주소 | MAC 주소 |
| :----------: | :----------: |
| 네트워크 계층에서 사용되는 주소 | 데이터 링크 계층에서 사용되는 주소 |
| 글로벌 단위에서 장치 간의 통신이 가능하도록 도와줌 | 거리가 가까운 주변 장치끼리 통신할 수 있음 |
| IPv4, IPv6 방식 중 하나를 채택해서 사용 | 총 48비트로 되어 있으며 :로 구분 |
| 때때로 값이 변할 수 있음 | 변하지 않은 값 |
| 논리적 주소 | 물리적 주소 |
| SW 설정을 통해 장치에 할당 | 제조할 떄 고유값 생성 |


</br>
</br>
</br>

### 4. (번외) 컴퓨터에 여러개의 MAC 주소가 있는 이유
MAC 주소가 유일한 값이라고 해서 컴퓨터에 하나만 있어야하는 건 아니다. 컴퓨터는 이더넷, 와이파이, 블루투스 등과 같은 여러 네트워크 인터페이스를 가질 수 있기 때문에 여러 MAC 주소를 가질 수 있다. 컴퓨터 별로 고유해야 하는게 아니라 네트워크 인터페이스 별로 고유하면 문제가 없다. </br>

예시로 노트분은 CMD에 `ipconfig -all` 명령어를 치게 되면 여러 개의 MAC 주소를 가진 걸 확인할 수 있다. 

![image](https://github.com/leesuuuuumm/Seoul-ICT-AI-Web-Dev-Camp/assets/58407737/62510ba8-110a-48ad-b095-ec0255db1998)

</br>

노트북은 유선랜, 와이파이, 블루투스를 모두 지원하기 때문이다. 만약 가상머신(VM)을 설치했으면 가상 머신에도 MAC 주소가 부여된다. </br>

일반 PC 뿐만 아니라 로드 밸런서 같은 네트워크 인프라 구축 장비에서도 각 네트워크 인터페이스에 대해 하나씩 여러 개의 MAC 주소를 가질 수 있다.  </br>


</br>
</br>
</br>

### 5. 결론

### 우리가 데이터를 보낼 떼 옆사람에게 전달, 그 옆사람이 또 옆사람한테 전달, 또 그 옆사람이 옆사람에게 전달 해서 목적지까지 가게 하는게 우리 네트워크 통신 방법이다.
### 이렇게 나와 이웃 간의 통신을 보장해주는 프로토콜이 `데이터링크 계층 프로토콜` 이고 이때 필요로 하는 것이 `MAC 주소` 이다.

